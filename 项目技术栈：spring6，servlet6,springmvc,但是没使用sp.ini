项目技术栈：spring6，servlet6,springmvc,但是没使用springboot；测试使用JUnit 5 Mockito5 
我要实现后端的重命名文件和文件夹功能，从controller层到mapper层，你分析并拆解一下这个任务
流程：在filter鉴定用户登录之后，把用户名，id，存入ThreadLocal以便以后调用；  解释：用UserContext内创建ThreadLocal，通过UserContext.getUserInfo()获取用户信息
更新文件名：在FileController用updateName(String path),请求方法是PATCH；
updateName方法内部先调用ThreadLocal获取用户名username，然后调用FilePath接口的formalFilePath(Path.of(Code.root,username),path)得到Path对象（Code.root是字符串常量）；然后调用UserFolderService接口的updateFileName(Path path);
updateFileName(Path path)中，调用ThreadLocal获取用户id（int id）；
然后调用UserFolderDao接口的updateFileName(Path path,int id)删除文件，这个方法要加上@update注解


注意事项：完整的错误处理设计
事务管理详细配置
权限校验的具体实现
并发修改文件名的安全
